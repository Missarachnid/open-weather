(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(61)},52:function(e,t,a){},53:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(11),c=a.n(l),o=a(12),s=a(1),i=a(26),p=a(3),d=a(2),u=a(4),m=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).render=function(){return n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card d-flex justify-content-center",id:"current"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"details-seperator"})),n.a.createElement("div",{className:"col-4"},n.a.createElement("p",null,"current")),n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"details-seperator"}))),n.a.createElement("h1",{className:"card-title",id:"city"},a.props.city),n.a.createElement("p",{id:"date"},a.props.datetime),n.a.createElement("div",{id:"weather-text"},n.a.createElement("p",{id:"weather"},n.a.createElement("i",{className:a.props.icon}),"\xa0\xa0",a.props.weather)),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-8 d-flex justify-content-end"},n.a.createElement("p",{id:"current-temp",className:"d-flex justify-content-end"},a.props.currenttemp," \xb0")),n.a.createElement("div",{className:"col-4",id:"low-high"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{id:"low-temp"},n.a.createElement("p",{id:"low-temp-text"},a.props.lowtemp,"\u2109"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{id:"high-temp"},n.a.createElement("p",null,a.props.hightemp,"\u2109"))))))))},a}return Object(u.a)(t,e),t}(n.a.Component),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).render=function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card d-flex justify-content-center",id:"details"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"hidden-card"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"details-seperator"})),n.a.createElement("div",{className:"col-4"},n.a.createElement("p",null,"details")),n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"details-seperator"}))),n.a.createElement("div",{className:"row weather-row"},n.a.createElement("div",{className:"col-6 weather-blocks"},n.a.createElement("i",{className:"wi wi-strong-wind weather-icon"}),n.a.createElement("p",{className:"details-data"},"wind"),n.a.createElement("p",null,a.props.wind,"mph")),n.a.createElement("div",{className:"col-6 weather-blocks"},n.a.createElement("i",{className:"wi wi-humidity weather-icon"}),n.a.createElement("p",{className:"details-data"},"humidity"),n.a.createElement("p",null,a.props.humidity,"%"))),n.a.createElement("div",{className:"row weather-row"},n.a.createElement("div",{className:"col-6 weather-blocks"},n.a.createElement("i",{className:"wi wi-barometer weather-icon"}),n.a.createElement("p",{className:"details-data"},"pressure"),n.a.createElement("p",null,a.props.pressure,"in")),n.a.createElement("div",{className:"col-6 weather-blocks"},n.a.createElement("i",{className:"wi wi-cloud weather-icon"}),n.a.createElement("p",{className:"details-data"},"visibility"),n.a.createElement("p",null,a.props.visibility,"mi"))),n.a.createElement("div",{className:"row weather-row"},n.a.createElement("div",{className:"col-6 weather-blocks"},n.a.createElement("i",{className:"wi wi-sunrise weather-icon"}),n.a.createElement("p",{className:"details-data"},"sunrise"),n.a.createElement("p",null,a.props.sunrise)),n.a.createElement("div",{className:"col-6 weather-blocks"},n.a.createElement("i",{className:"wi wi-sunset weather-icon"}),n.a.createElement("p",{className:"details-data"},"sunset"),n.a.createElement("p",null,a.props.sunset))))))))},a}return Object(u.a)(t,e),t}(n.a.Component),f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(e){if(e.preventDefault(),null===a.props.city)return!1;a.props.detailsToggle()},a.render=function(){return n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card d-flex justify-content-center",id:"details"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"show-data"},n.a.createElement("div",{className:"row",onClick:function(e){return a.handleClick(e)}},n.a.createElement("div",{className:"col-3"}),n.a.createElement("div",{className:"col-4"},n.a.createElement("p",{className:"toggle-button"},"details")),n.a.createElement("div",{className:"col-2"},n.a.createElement("p",{className:"toggle-button"},"+")),n.a.createElement("div",{className:"col-3"}))))))},a}return Object(u.a)(t,e),t}(n.a.Component),g=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).render=function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card d-flex justify-content-center",id:"forecast"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"hidden-card"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-3"},n.a.createElement("div",{className:"details-seperator"})),n.a.createElement("div",{className:"col-6"},n.a.createElement("p",null,"forecast")),n.a.createElement("div",{className:"col-3"},n.a.createElement("div",{className:"details-seperator"}))),n.a.createElement("div",{className:"forecast-block"},a.props.forecast.map(function(e,t){return n.a.createElement("div",{className:"slot",key:t},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-5"},n.a.createElement("p",{className:"forecast-date"},e.date)),n.a.createElement("div",{className:"col-3"},n.a.createElement("p",{className:"forecast-temp"},e.temp,"\xb0")),n.a.createElement("div",{className:"col-4"},n.a.createElement("i",{className:"forecast-icon ".concat(e.icon)}))))})))))))},a}return Object(u.a)(t,e),t}(n.a.Component),h=a(9),v=a.n(h),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(e){if(e.preventDefault(),null===a.props.city)return!1;v.a.post("/forecast",{city:a.props.city}).then(function(e){"string"===typeof e?(a.props.updateError(e),a.props.flagError(!0)):(a.props.updateForecast(e.data),a.props.forecastToggle())}).catch(function(e){console.log("Error retrieving forecast",e),a.props.flagError(!0),a.props.updateError("Error retrieving forecast")})},a.render=function(){return n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card d-flex justify-content-center",id:"details"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"show-data"},n.a.createElement("div",{className:"row",onClick:function(e){return a.handleClick(e)}},n.a.createElement("div",{className:"col-2"}),n.a.createElement("div",{className:"col-5"},n.a.createElement("p",{className:"toggle-button"},"forecast")),n.a.createElement("div",{className:"col-2"},n.a.createElement("p",{className:"toggle-button"},"+")),n.a.createElement("div",{className:"col-3"}))))))},a}return Object(u.a)(t,e),t}(n.a.Component),y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).handleSubmit=function(e){e.preventDefault(),!0===a.props.isToggle&&a.props.toggleForecast(),!0===a.props.isDetails&&a.props.detailsToggle(),a.props.flagError(!1),a.props.updateError(""),a.props.updateLoading(),v.a.post("/search",{city:a.props.input}).then(function(e){a.props.updateLoading(),"error"===e.data?(a.props.flagError(!0),a.props.updateError("City does not exist"),a.props.loadData({city:null,datetime:null,currenttemp:null,lowtemp:null,hightemp:null,icon:null,weather:null,wind:null,humidity:null,pressure:null,visibility:null,sunrise:null,sunset:null}),console.log(e.data),a.props.submitClear(),a.props.flagError(!0),a.props.updateError("This city doen't exist")):(a.props.loadData(e.data),a.props.submitClear())}).catch(function(e){console.log("error searching for city ",e),a.props.submitClear(),a.props.updateLoading(),a.props.flagError(!0),a.props.updateError("You may be offline")})},a.render=function(){return n.a.createElement("div",{className:"header"},n.a.createElement("nav",{className:"navbar"},n.a.createElement("div",{className:"d-flex justify-content-center w-100",id:"nav-container"},n.a.createElement("div",{className:"row w-100"},n.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex justify-content-center"},n.a.createElement("a",{href:"/"},n.a.createElement("p",{className:"navbar-brand",id:"logo-text"},n.a.createElement("i",{className:"wi wi-sunrise",id:"logo-icon"}),"\xa0Weather "))),n.a.createElement("div",{className:"col-md-6 col-sm-12"},n.a.createElement("form",{className:"form-inline d-flex justify-content-center",onSubmit:function(e){return a.handleSubmit(e)}},n.a.createElement("div",{className:"input-group",id:"input"},n.a.createElement("input",{placeholder:"City or Zipcode","aria-label":"Search",onChange:function(e){return a.props.onKeyup(e)},value:a.props.input,id:"search-input",required:!0}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn",id:"search-btn",type:"submit"},"Search")))))))))},a}return Object(u.a)(t,e),t}(n.a.Component),N=function(e){return n.a.createElement("footer",{className:"w-100"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("p",{className:"footer-link"},n.a.createElement("a",{href:"http://mmkepler.com",target:"_blank",rel:"noopener noreferrer"},"Melissa Kepler"))),n.a.createElement("div",{className:"col-6"},n.a.createElement("p",{className:"footer-link"},n.a.createElement("a",{href:"https://github.com/Missarachnid/open-weather",target:"_blank",rel:"noopener noreferrer"},"GitHub")))))},b=(a(51),a(25),a(52),a(53),a(13)),j={type:"WEATHER_UPDATE"},O={type:"INPUT_UPDATE"},T={type:"SUBMIT_CLEAR"},R={type:"SEARCH_ERROR"},C={type:"DETAILS_TOGGLE"},k={type:"FORECAST_TOGGLE"},x={type:"FORECAST_UPDATE"},L={type:"LOADING"},A={type:"ERROR_TEXT"},D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).render=function(){return n.a.createElement("div",{className:"container-fluid",id:"main-bg"},a.props.loading?n.a.createElement("div",{id:"notice"},n.a.createElement("div",{className:"spinner-grow spin",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")),n.a.createElement("div",{className:"spinner-grow spin",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")),n.a.createElement("div",{className:"spinner-grow spin",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))):null,n.a.createElement(y,Object(o.a)({input:a.props.input,onKeyup:a.props.onKeyup,submitClear:a.props.submitClear,loadData:a.props.loadData,flagError:a.props.flagError,updateLoading:a.props.updateLoading,toggleForecast:a.props.toggleForecast,isToggle:a.props.forecastToggle,updateError:a.props.updateError,detailsToggle:a.props.toggleDetails,isDetails:a.props.detailsToggle},"submitClear",a.props.submitClear)),a.props.error?n.a.createElement("div",{id:"alert"},n.a.createElement("p",null,a.props.errortext)):null,n.a.createElement(m,{city:a.props.city,datetime:a.props.datetime,icon:a.props.icon,weather:a.props.weather,currenttemp:a.props.currenttemp,lowtemp:a.props.lowtemp,hightemp:a.props.hightemp}),a.props.detailsToggle?n.a.createElement(E,{wind:a.props.wind,humidity:a.props.humidity,pressure:a.props.pressure,visibility:a.props.visibility,sunrise:a.props.sunrise,sunset:a.props.sunset}):n.a.createElement(f,{detailsToggle:a.props.toggleDetails,city:a.props.city}),a.props.forecastToggle?n.a.createElement(g,{forecast:a.props.forecast}):n.a.createElement(w,{forecastToggle:a.props.toggleForecast,updateForecast:a.props.updateForecast,city:a.props.city,updateLoading:a.props.updateLoading,updateError:a.props.updateError}),n.a.createElement(N,null))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;navigator.geolocation?(this.props.updateLoading(),this.props.flagError(!1),navigator.geolocation.getCurrentPosition(function(t){v.a.post("/find",{lat:t.coords.latitude,lon:t.coords.longitude}).then(function(t){e.props.loadData(t.data),e.props.updateLoading()}).catch(function(t){console.log("error loading forecast data",t),e.props.updateLoading(),e.props.flagError(!0),e.props.updateError("You may be offline")})},function(t){console.log("error requesting forecast",t),e.props.flagError(!0),e.props.updateError(t.message),e.props.updateLoading("Geolocation blocked")})):(this.props.updateLoading(),this.props.flagError(!0),this.props.updateError("Geolocation blocked"))}}]),t}(n.a.Component),S=Object(b.b)(function(e){return{city:e.weatherReducer.city,datetime:e.weatherReducer.datetime,currenttemp:e.weatherReducer.currenttemp,lowtemp:e.weatherReducer.lowtemp,hightemp:e.weatherReducer.hightemp,icon:e.weatherReducer.icon,weather:e.weatherReducer.weather,wind:e.weatherReducer.wind,humidity:e.weatherReducer.humidity,pressure:e.weatherReducer.pressure,visibility:e.weatherReducer.visibility,sunrise:e.weatherReducer.sunrise,sunset:e.weatherReducer.sunset,input:e.inputReducer.input,error:e.inputReducer.error,detailsToggle:e.weatherReducer.detailsToggle,forecastToggle:e.weatherReducer.forecastToggle,forecast:e.forecastReducer.forecast,loading:e.weatherReducer.loading,errortext:e.inputReducer.errortext}},function(e){return{loadData:function(t){e({type:j,payload:t})},onKeyup:function(t){e({type:O,payload:t})},submitClear:function(){e({type:T})},flagError:function(t){e({type:R,payload:t})},toggleDetails:function(){e({type:C})},toggleForecast:function(){e({type:k})},updateForecast:function(t){e({type:x,payload:t})},updateLoading:function(){e({type:L})},updateError:function(t){e({type:A,payload:t})}}})(D),F=a(10),W=a(6),_={city:null,datetime:null,currenttemp:null,lowtemp:null,hightemp:null,icon:null,weather:null,wind:null,humidity:null,pressure:null,visibility:null,sunrise:null,sunset:null,input:"",error:!1,detailsToggle:!1,forecastToggle:!1,forecast:[],loading:!1,errortext:""},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(W.a)({},e,{city:t.payload.city,datetime:t.payload.datetime,currenttemp:t.payload.currenttemp,lowtemp:t.payload.lowtemp,hightemp:t.payload.hightemp,icon:t.payload.icon,weather:t.payload.weather,wind:t.payload.wind,humidity:t.payload.humidity,pressure:t.payload.pressure,visibility:t.payload.visibility,sunrise:t.payload.sunrise,sunset:t.payload.sunset});case C:return Object(W.a)({},e,{detailsToggle:!e.detailsToggle});case k:return Object(W.a)({},e,{forecastToggle:!e.forecastToggle});case L:return Object(W.a)({},e,{loading:!e.loading});default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(W.a)({},e,{input:t.payload.target.value});case T:return Object(W.a)({},e,{input:""});case R:return Object(W.a)({},e,{error:t.payload});case A:return Object(W.a)({},e,{errortext:t.payload});default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(W.a)({},e,{forecast:t.payload});default:return e}},I=Object(F.b)({weatherReducer:G,inputReducer:U,forecastReducer:P}),K=Object(F.c)(I),M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(n.a.createElement(b.a,{store:K},n.a.createElement(S,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/sw.js");M?(function(e,t){fetch(e).then(function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):B(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):B(t,e)})}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.7779e588.chunk.js.map